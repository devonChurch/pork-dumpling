!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(11);for(var i=n(4),r=document.getElementsByClassName("watch__face"),a=[],u=0;u<r.length;u+=1)a[u]=new i(r[u])},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.Face=t}return i(e,[{key:"randomise",value:function(e){var t=e.min,n=void 0===t?0:t,i=e.max;return Math.floor(Math.random()*(i-n+1))+n}},{key:"clearCanvas",value:function(e){e.ctx.clearRect(0,0,e.size,e.size)}},{key:"boolean",get:function(){return this.randomise({max:1})%2===0?!1:!0}}]),e}();e.exports=new r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.Face=t}return i(e,[{key:"updateBackground",value:function(){var e=this.Face.ctx;e.beginPath(),e.rect(0,0,this.Face.size,this.Face.size),e.fillStyle="hsl("+this.Face.Hue.current+", 100%, 15%)",e.fill(),e.closePath()}},{key:"animate",value:function(){this.updateBackground()}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),u=function(){function e(t){i(this,e),this.Face=t,this.nextBeat=this.currentTime,this.i=0}return r(e,[{key:"updateBeat",value:function(){this.nextBeat=this.nextBeat+a.randomise({min:400,max:520})}},{key:"animate",value:function(){this.currentProgress&&(this.updateBeat(),this.Face.Graph.registerBeat(),this.i+=1)}},{key:"currentTime",get:function(){var e=new Date;return e.getTime()}},{key:"currentProgress",get:function(){var e=this.currentTime;return e>this.nextBeat}}]),e}();e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),u=n(8),o=n(10),s=n(3),c=n(7),f=n(2),h=n(6),l=n(9),v=n(5),d=function(){function e(t){i(this,e),this.canvas=t,this.size=this.canvas.width,this.ctx=this.canvas.getContext("2d"),this.Pause=new u(this),this.Timer=new o(this),this.Hue=new c(this),this.Background=new f(this),this.Beat=new s(this),this.Heart=new h(this),this.Rate=new l(this),this.Graph=new v(this),this.animate()}return r(e,[{key:"animate",value:function(){var e=this;a.clearCanvas(this),this.Hue.animate(),this.Background.animate(),this.Timer.animate(),this.Beat.animate(),this.Heart.animate(),this.Rate.animate(),this.Graph.animate(),requestAnimationFrame(function(){return e.animate()})}}]),e}();e.exports=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),u=function(){function e(t){i(this,e),this.Face=t,this.legacyGraph=this.buildLegacy,this.currentGraph=this.buildCurrent,this.BaseLine=150,this.i=0}return r(e,[{key:"updateLegacy",value:function(){this.legacyGraph=this.currentGraph,this.currentGraph=this.buildCurrent}},{key:"updateCurrent",value:function(){var e=Math.sin(this.i),t=e*this.i*2.5;this.i=this.i<1?0:this.i-1,this.currentGraph.push(t)}},{key:"drawPoints",value:function(e,t){for(var n=0;n<this.Face.size;n+=1)e.lineTo(n,this.BaseLine-this[t+"Graph"][n])}},{key:"legacyColor",value:function(){var e=1-1/this.Face.size*this.currentGraph.length*1.5,t=this.Face.ctx.createLinearGradient(0,0,100,0);return t.addColorStop(0,"hsla("+this.Face.Hue.current+", 100%, 65%, 0)"),t.addColorStop(1,"hsla("+this.Face.Hue.current+", 100%, 65%, "+e+")"),t}},{key:"currentColor",value:function(){var e=this.Face.ctx.createLinearGradient(0,0,100,0);return e.addColorStop(0,"hsla("+this.Face.Hue.current+", 100%, 65%, 0)"),e.addColorStop(1,"hsla("+this.Face.Hue.current+", 100%, 65%, 1)"),e}},{key:"drawGraph",value:function(e){var t=this.Face.ctx;t.beginPath(),t.moveTo(0,this.BaseLine),this.drawPoints(t,e),t.strokeStyle=this[e+"Color"](t),t.stroke(),t.closePath()}},{key:"queryCircumstance",value:function(){this.currentGraph.length>=this.Face.size&&this.updateLegacy()}},{key:"injectInstances",value:function(){for(var e=["legacy","current"],t=0;t<e.length;t++){var n=e[t];this.drawGraph(n)}}},{key:"injectProgress",value:function(){var e=this.Face.ctx,t=this.currentGraph.length,n=3,i=t-n,r=this.BaseLine-this.currentGraph[t-1];e.beginPath(),e.arc(i,r,n,0,2*Math.PI,!1),e.fillStyle=this.currentColor(),e.fill(),e.closePath()}},{key:"registerBeat",value:function(){this.i=a.randomise({min:5,max:15})}},{key:"animate",value:function(){this.queryCircumstance(),this.updateCurrent(),this.injectInstances(),this.injectProgress()}},{key:"buildLegacy",get:function(){for(var e=[],t=0;t<this.Face.size;t+=1)e[t]=0;return e}},{key:"buildCurrent",get:function(){return[0]}}]),e}();e.exports=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.Face=t,this.i=1,this.duration=100,this.climax=this.duration/2,this.animate()}return i(e,[{key:"updateIncrementor",value:function(){this.i=this.i>this.duration?0:this.i+1}},{key:"updateFacets",value:function(){for(var e=["echoLarge","echoSmall","base"],t=0;t<e.length;t++){var n=e[t];this.buildFacet(n)}}},{key:"buildFacet",value:function(e){var t=this[e+"Properties"],n=this.Face.ctx,i="hsla("+this.Face.Hue.current+", 100%, "+t.luminosity+"%, "+t.alpha+")",r=14.6,a=16,u=65,o=60;n.save(),n.translate(a*t.scale/2*-1,r*t.scale/2*-1),n.scale(t.scale,t.scale),n.translate(u/t.scale,o/t.scale),n.beginPath(),n.moveTo(8,14.6),n.bezierCurveTo(8.3,14.6,8.3,14.6,11.3,12.2),n.bezierCurveTo(14.3,9.8,16,7.2,16,4.5),n.bezierCurveTo(16,1.9,13.9,0,11.5,0),n.bezierCurveTo(9.1,0,8,1.8,8,1.8),n.bezierCurveTo(8,1.8,6.8,0,4.5,0),n.bezierCurveTo(2.2,0,0,1.9,0,4.6),n.bezierCurveTo(0,7.2,1.7,9.9,4.7,12.3),n.bezierCurveTo(7.7,14.6,7.7,14.6,8,14.6),n.fillStyle=i,n.fill(),n.closePath(),n.restore()}},{key:"animate",value:function(){this.updateFacets(),this.updateIncrementor()}},{key:"baseProperties",get:function(){var e=65,t=1,n=.005,i=this.i<this.climax?1+this.i*n:1+this.climax*n-(this.i-this.climax)*n;return{luminosity:e,alpha:t,scale:i}}},{key:"echoSmallProperties",get:function(){var e=40,t=this.i>this.climax?1-this.i/this.duration:0,n=this.i>this.climax?1+.01*this.i:1;return{luminosity:e,alpha:t,scale:n}}},{key:"echoLargeProperties",get:function(){var e=30,t=this.i>this.climax?1-this.i/this.duration:0,n=this.i>this.climax?1+.03*this.i:1;return{luminosity:e,alpha:t,scale:n}}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),u=function(){function e(t){i(this,e),this.Face=t,this.current=a.randomise({max:360})}return r(e,[{key:"updateHue",value:function(){this.current+=.25,this.current>360&&(this.current=0)}},{key:"animate",value:function(){this.updateHue()}}]),e}();e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(12),u=function(){function e(t){i(this,e),this.Face=t,this.listeners(),this.activated=0}return r(e,[{key:"listeners",value:function(){var e=this;a.on("blur",function(){return e.activate()}).on("focus",function(){return e.deactivate()})}},{key:"activate",value:function(){var e=new Date;this.activated=e.getTime()}},{key:"deactivate",value:function(){var e=new Date,t=e.getTime(),n=t-this.activated;this.Face.Timer.offset+=n,this.Face.Beat.nextBeat+=n}}]),e}();e.exports=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.Face=t,this.i=0,this.currentBpm="000"}return i(e,[{key:"updateBpm",value:function(){var e=6e4/this.Face.Timer.elapsedTime,t=this.Face.Beat.i*e;this.currentBpm=Math.round(t)}},{key:"injectBpm",value:function(){var e=this.Face.ctx,t=(""+this.currentBpm).length<3?"0"+this.currentBpm:""+this.currentBpm,n=" bpm",i=70,r="hsl("+this.Face.Hue.current+", 100%, 65%)",a=85;e.font="300 30px Roboto",e.fillStyle=r,e.fillText(t,a,i),a+=e.measureText(t).width,e.font="300 12px Roboto",e.fillStyle=r,e.fillText(n,a,i)}},{key:"animate",value:function(){this.frequency&&this.updateBpm(),this.injectBpm()}},{key:"frequency",get:function(){var e=60,t=this.i>e;return this.i=t?0:this.i+1,t}}]),e}();e.exports=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.Face=t,this.offset=this.elapsedTime}return i(e,[{key:"formatTime",value:function(e){var t=Math.floor(e/36e5);e%=36e5;var n=Math.floor(e/6e4),i=Math.floor(e%6e4/1e3);return""+this.queryHours(t)+this.queryMinutes(n)+this.querySeconds(i)}},{key:"queryDigits",value:function(e){return(""+e).length<2?"0"+e:""+e}},{key:"queryHours",value:function(e){return e>0?e+":":""}},{key:"queryMinutes",value:function(e){return e>0?this.queryDigits(e)+":":""}},{key:"querySeconds",value:function(e){return""+this.queryDigits(e)}},{key:"queryUnits",value:function(e){return e.length>5?"hrs":e.length>2?"mins":"secs"}},{key:"injectTime",value:function(e){var t=this.Face.ctx,n=" "+this.queryUnits(e),i=95,r="hsl("+this.Face.Hue.current+", 100%, 65%)",a=(t.measureText(e).width+t.measureText(n).width)/2,u=this.Face.size/2-a;t.font="500 12px Roboto",t.fillStyle=r,t.fillText(e,u,i),u+=t.measureText(e).width,t.font="300 12px Roboto",t.fillStyle=r,t.fillText(n,u,i)}},{key:"animate",value:function(){var e=this.elapsedTime,t=this.formatTime(e);this.injectTime(t)}},{key:"elapsedTime",get:function(){var e=new Date,t=this.offset||0,n=e.getTime()-t;return n}}]),e}();e.exports=r},function(e,t){},function(e,t,n){var i;(function(){!function(r,a){return i=function(){return a()}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this,function(){var e,t,n,i,r,a,u,o,s,c,f,h,l,v;return s={},n=document,f=!1,h="active",u=6e4,a=!1,t=function(){var e,t,n,i,r,a,u;return e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},r=function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},a={},n="__ceGUID",t=function(e,t,i){return e[n]=void 0,e[n]||(e[n]="ifvisible.object.event.identifier"),a[e[n]]||(a[e[n]]={}),a[e[n]][t]||(a[e[n]][t]=[]),a[e[n]][t].push(i)},i=function(e,t,i){var r,u,o,s,c;if(e[n]&&a[e[n]]&&a[e[n]][t]){for(s=a[e[n]][t],c=[],u=0,o=s.length;o>u;u++)r=s[u],c.push(r(i||{}));return c}},u=function(e,t,i){var r,u,o,s,c;if(i){if(e[n]&&a[e[n]]&&a[e[n]][t])for(c=a[e[n]][t],u=o=0,s=c.length;s>o;u=++o)if(r=c[u],r===i)return a[e[n]][t].splice(u,1),r}else if(e[n]&&a[e[n]]&&a[e[n]][t])return delete a[e[n]][t]},{add:t,remove:u,fire:i}}(),e=function(){var e;return e=!1,function(t,n,i){return e||(e=t.addEventListener?function(e,t,n){return e.addEventListener(t,n,!1)}:t.attachEvent?function(e,t,n){return e.attachEvent("on"+t,n,!1)}:function(e,t,n){return e["on"+t]=n}),e(t,n,i)}}(),i=function(e,t){var i;return n.createEventObject?e.fireEvent("on"+t,i):(i=n.createEvent("HTMLEvents"),i.initEvent(t,!0,!0),!e.dispatchEvent(i))},o=function(){var e,t,i,r,a;for(r=void 0,a=3,i=n.createElement("div"),e=i.getElementsByTagName("i"),t=function(){return i.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",e[0]};t(););return a>4?a:r}(),r=!1,v=void 0,"undefined"!=typeof n.hidden?(r="hidden",v="visibilitychange"):"undefined"!=typeof n.mozHidden?(r="mozHidden",v="mozvisibilitychange"):"undefined"!=typeof n.msHidden?(r="msHidden",v="msvisibilitychange"):"undefined"!=typeof n.webkitHidden&&(r="webkitHidden",v="webkitvisibilitychange"),l=function(){var t,i;return t=!1,i=function(){return clearTimeout(t),"active"!==h&&s.wakeup(),a=+new Date,t=setTimeout(function(){return"active"===h?s.idle():void 0},u)},i(),e(n,"mousemove",i),e(n,"keyup",i),e(n,"touchstart",i),e(window,"scroll",i),s.focus(i),s.wakeup(i)},c=function(){var t;return f?!0:(r===!1?(t="blur",9>o&&(t="focusout"),e(window,t,function(){return s.blur()}),e(window,"focus",function(){return s.focus()})):e(n,v,function(){return n[r]?s.blur():s.focus()},!1),f=!0,l())},s={setIdleDuration:function(e){return u=1e3*e},getIdleDuration:function(){return u},getIdleInfo:function(){var e,t;return e=+new Date,t={},"idle"===h?(t.isIdle=!0,t.idleFor=e-a,t.timeLeft=0,t.timeLeftPer=100):(t.isIdle=!1,t.idleFor=e-a,t.timeLeft=a+u-e,t.timeLeftPer=(100-100*t.timeLeft/u).toFixed(2)),t},focus:function(e){return"function"==typeof e?this.on("focus",e):(h="active",t.fire(this,"focus"),t.fire(this,"wakeup"),t.fire(this,"statusChanged",{status:h})),this},blur:function(e){return"function"==typeof e?this.on("blur",e):(h="hidden",t.fire(this,"blur"),t.fire(this,"idle"),t.fire(this,"statusChanged",{status:h})),this},idle:function(e){return"function"==typeof e?this.on("idle",e):(h="idle",t.fire(this,"idle"),t.fire(this,"statusChanged",{status:h})),this},wakeup:function(e){return"function"==typeof e?this.on("wakeup",e):(h="active",t.fire(this,"wakeup"),t.fire(this,"statusChanged",{status:h})),this},on:function(e,n){return c(),t.add(this,e,n),this},off:function(e,n){return c(),t.remove(this,e,n),this},onEvery:function(e,t){var n,i;return c(),n=!1,t&&(i=setInterval(function(){return"active"===h&&n===!1?t():void 0},1e3*e)),{stop:function(){return clearInterval(i)},pause:function(){return n=!0},resume:function(){return n=!1},code:i,callback:t}},now:function(e){return c(),h===(e||"active")}}})}).call(this)}]);
//# sourceMappingURL=bundle.js.map